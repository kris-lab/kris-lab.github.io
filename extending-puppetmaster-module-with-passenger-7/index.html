<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Extending Puppetmaster module with Passenger - Chris Stasiak</title><meta name="description" content="If you manage large farm of servers then most probably you experienced performance problems time to time. To solve puppetmaster&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.kris-lab.com/extending-puppetmaster-module-with-passenger-7/"><link rel="alternate" type="application/atom+xml" href="https://blog.kris-lab.com/feed.xml"><link rel="alternate" type="application/json" href="https://blog.kris-lab.com/feed.json"><meta property="og:title" content="Extending Puppetmaster module with Passenger"><meta property="og:site_name" content="Chris Stasiak"><meta property="og:description" content="If you manage large farm of servers then most probably you experienced performance problems time to time. To solve puppetmaster&hellip;"><meta property="og:url" content="https://blog.kris-lab.com/extending-puppetmaster-module-with-passenger-7/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_krislab"><meta name="twitter:title" content="Extending Puppetmaster module with Passenger"><meta name="twitter:description" content="If you manage large farm of servers then most probably you experienced performance problems time to time. To solve puppetmaster&hellip;"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://blog.kris-lab.com/assets/css/style.css?v=942a7248764f7bd78c8eab338e2f678a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.kris-lab.com/extending-puppetmaster-module-with-passenger-7/"},"headline":"Extending Puppetmaster module with Passenger","datePublished":"2014-03-20T16:02","dateModified":"2020-08-26T11:04","description":"If you manage large farm of servers then most probably you experienced performance problems time to time. To solve puppetmaster&hellip;","author":{"@type":"Person","name":"Chris Stasiak"},"publisher":{"@type":"Organization","name":"Chris Stasiak"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-176563351-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-176563351-1');</script></head><body><header class="header" id="js-header"><a href="https://blog.kris-lab.com/" class="logo">Chris Stasiak</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="home-button"><a href="https://blog.kris-lab.com" target="_self">{ home }</a></li><li class="has-submenu"><a href="https://blog.kris-lab.com/" target="_self" aria-haspopup="true">#tagged</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://blog.kris-lab.com/tag/news/" target="_self">News</a></li><li><a href="https://blog.kris-lab.com/tag/devops-2/" target="_self">DevOps</a></li><li><a href="https://blog.kris-lab.com/tag/ffmpeg/" target="_self">Media</a></li><li><a href="https://blog.kris-lab.com/tag/vr/" target="_self">360/3D/VR</a></li><li><a href="https://blog.kris-lab.com/tag/artificial-intelligence-2/" target="_self">AI/ML/TPU</a></li></ul></li><li><a href="https://github.com/kris-lab" target="_blank">GitHub</a></li><li><a href="https://www.linkedin.com/in/krzysztof-chris-stasiak-6261244b/" target="_blank">LinkedIn</a></li><li><a href="https://keybase.io/krislab" target="_blank">Keybase</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">...</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://twitter.com/_krislab" target="_blank">Twitter</a></li><li><a href="https://www.vivino.com/users/krislab" target="_blank">Vivino</a></li><li><a href="https://you.23andme.com/published/reports/4ce9d90ae16a442590f1d3f8dcfd0eca/?share_id&#x3D;efcd35acba5a4f77" target="_blank">23andMe</a></li></ul></li><li class="line-vertical-separator"><span class="is-separator">|</span></li><li class="has-submenu"><a href="https://blog.kris-lab.com/contact/" target="_self" aria-haspopup="true">About</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://blog.kris-lab.com/contact/" target="_self">Contact</a></li><li><a href="https://blog.kris-lab.com/resume/" target="_self">Resume</a></li><li><a href="https://blog.kris-lab.com/references/" target="_self">References</a></li><li><a href="https://blog.kris-lab.com/gallery/" target="_self">Gallery</a></li><li class="line-horizontal-separator"><span class="is-separator">-</span></li><li><a href="https://blog.kris-lab.com/legal/" target="_self">Legal</a></li></ul></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><form action="https://blog.kris-lab.com/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" aria-label="Search input" placeholder="search..." autofocus="autofocus"> <button class="search__submit">Search</button></form></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false" height="18" width="18"><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><div class="wrapper"><article class="post"><header class="post__header"><a href="https://blog.kris-lab.com/tag/devops-2/" class="post__maintag">devops</a><h1 class="post__title">Extending Puppetmaster module with Passenger</h1><div class="post__meta"><div class="post__author">By <a href="https://blog.kris-lab.com/authors/chris-stasiak/" class="invert" rel="author" title="Chris Stasiak">Chris Stasiak</a></div><time datetime="2014-03-20T16:02">March 20, 2014</time><div class="post__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://blog.kris-lab.com/extending-puppetmaster-module-with-passenger-7/#comments" data-disqus-identifier="842" class="invert" rel="nofollow">0</a></div></div></header><div class="post__inner"><div class="post__entry"><p>If you manage large farm of servers then most probably you experienced performance problems time to time. To solve puppetmaster problems with handling many of concurrent SSL connections the best solution is switch from WEBrick to Apache2 as gateway for puppet agents.</p><p>I can recommend implemented by my team the <a href="https://github.com/cargomedia/puppet-packages/tree/master/modules/puppet">puppet master module</a> which uses our <a href="https://github.com/cargomedia/puppet-packages/tree/master/modules/passenger">passenger module</a>.</p><p>More details about problems with WEBrick you can find in <a href="https://github.com/cargomedia/puppet-packages/issues/502">issue here</a></p></div><footer><p class="post__last-updated">This article was updated on August 26, 2020</p><div class="post__tags-share"><ul class="post__tag"><li><a href="https://blog.kris-lab.com/tag/apache2/">apache2</a></li><li><a href="https://blog.kris-lab.com/tag/balancing-2/">balancing</a></li><li><a href="https://blog.kris-lab.com/tag/caching-2/">caching</a></li><li><a href="https://blog.kris-lab.com/tag/devops-2/">devops</a></li><li><a href="https://blog.kris-lab.com/tag/optimisation/">optimisation</a></li><li><a href="https://blog.kris-lab.com/tag/passenger/">passenger</a></li><li><a href="https://blog.kris-lab.com/tag/puppet-2/">puppet</a></li><li><a href="https://blog.kris-lab.com/tag/puppetmaster/">puppetmaster</a></li><li><a href="https://blog.kris-lab.com/tag/ssl/">SSL</a></li><li><a href="https://blog.kris-lab.com/tag/webrick/">webrick</a></li></ul><aside class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Fblog.kris-lab.com%2Fextending-puppetmaster-module-with-passenger-7%2F&amp;via=%40_krislab&amp;text=Extending%20Puppetmaster%20module%20with%20Passenger" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.kris-lab.com%2Fextending-puppetmaster-module-with-passenger-7%2F&amp;title=Extending%20Puppetmaster%20module%20with%20Passenger" class="js-share linkedin" aria-label="Share with LinkedIn" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://buffer.com/add?text=Extending%20Puppetmaster%20module%20with%20Passenger&amp;url=https%3A%2F%2Fblog.kris-lab.com%2Fextending-puppetmaster-module-with-passenger-7%2F" class="js-share buffer" aria-label="Share with Buffer" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#buffer"/></svg></a></aside></div><div class="post__bio author"><div><h3 class="h6 author__name"><a href="https://blog.kris-lab.com/authors/chris-stasiak/" class="invert" title="Chris Stasiak">Chris Stasiak</a></h3></div></div><nav class="post__nav"><div class="post__nav__prev"><a class="post__nav__link" href="https://blog.kris-lab.com/migration-to-heroku-app-cloud-with-uptimerobot-monitoring-9/" rel="prev">Previous Post<h3 class="h6">Migration to Heroku App Cloud with UptimeRobot monitoring</h3></a></div><div class="post__nav__next"><a class="post__nav__link" href="https://blog.kris-lab.com/reducing-openx-to-revive-adsserver-migration-pain-93/" rel="prev">Next Post<h3 class="h6">Reducing OpenX to Revive AdsServer migration pain!</h3></a></div></nav></footer></div></article><div class="comments post__inner" id="comments"><h3 class="h5">Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
                    this.page.url = '';
            		this.page.identifier = '';
                };
            
                var disqus_loaded = false;
            
                function publiiLoadDisqus() {
                    if(disqus_loaded) {
                        return false;
                    }
            
                    var top = document.getElementById('disqus_thread').offsetTop;
            
                    if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                        disqus_loaded = true;
            
                        (function () {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://blog-kris-lab-com.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    }
                }
            
                publiiLoadDisqus();
            
                window.onscroll = function() {
                    publiiLoadDisqus();
                };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="post__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://blog.kris-lab.com/tag/api/">API</a></div><h3 class="c-card__title"><a href="https://blog.kris-lab.com/mongo-mms-api-agent-for-ruby-with-basic-cli-client-14/" class="invert">Mongo MMS API agent for ruby with basic cli client</a></h3></header><footer class="c-card__meta"><time datetime="2014-08-28T08:06">August 28, 2014</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://blog.kris-lab.com/mongo-mms-api-agent-for-ruby-with-basic-cli-client-14/#post-comments" data-disqus-identifier="863" class="invert" rel="nofollow">0</a></div></footer></div></article><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://blog.kris-lab.com/tag/auto/">auto</a></div><h3 class="c-card__title"><a href="https://blog.kris-lab.com/infrastructure-deployment-with-puppet-2/" class="invert">Infrastructure deployment with Puppet</a></h3></header><footer class="c-card__meta"><time datetime="2013-12-23T10:38">December 23, 2013</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://blog.kris-lab.com/infrastructure-deployment-with-puppet-2/#post-comments" data-disqus-identifier="859" class="invert" rel="nofollow">0</a></div></footer></div></article><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://blog.kris-lab.com/tag/devops-2/">devops</a></div><h3 class="c-card__title"><a href="https://blog.kris-lab.com/migration-to-heroku-app-cloud-with-uptimerobot-monitoring-9/" class="invert">Migration to Heroku App Cloud with UptimeRobot monitoring</a></h3></header><footer class="c-card__meta"><time datetime="2014-03-08T13:19">March 8, 2014</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://blog.kris-lab.com/migration-to-heroku-app-cloud-with-uptimerobot-monitoring-9/#post-comments" data-disqus-identifier="841" class="invert" rel="nofollow">0</a></div></footer></div></article><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://blog.kris-lab.com/tag/research/">research</a></div><h3 class="c-card__title"><a href="https://blog.kris-lab.com/osx-low-latency-ffmpeg-plublisher-with-ffplay-subscriber-via-wowza-streaming-engine-3/" class="invert">OSX low latency ffmpeg publisher with ffplay subscriber via wowza streaming engine</a></h3></header><footer class="c-card__meta"><time datetime="2015-06-01T22:38">June 1, 2015</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://blog.kris-lab.com/osx-low-latency-ffmpeg-plublisher-with-ffplay-subscriber-via-wowza-streaming-engine-3/#post-comments" data-disqus-identifier="718" class="invert" rel="nofollow">0</a></div></footer></div></article></div></div></div></main><footer class="footer"><div class="footer__social"><a href="https://twitter.com/_krislab" aria-label="Twitter" class="twitter"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/_krislab" aria-label="Instagram" class="instagram"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/krzysztof-chris-stasiak-6261244b/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright">&copy; 2020 Krzysztof Stasiak</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://blog.kris-lab.com/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script id="dsq-count-scr" src="https://blog-kris-lab-com.disqus.com/count.js" async></script></body></html>