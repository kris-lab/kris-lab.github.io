<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>WebSocket very basic protocol debugging overview - Chris Stasiak </title>
        <meta name="description" content="1. Required toolsnetcatbrew install netcatnodejsbrew install nodewebsocket toolsnpm install websocket-upgradeChrome browse2. Starting netcat as "server" on localhost, port 8080$ nc&hellip;" />
        
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />
        <link rel="canonical" href="https://blog.kris-lab.com/websocket-very-basic-protocol-debugging-overview-2.html">
        
        <link rel="alternate" type="application/atom+xml" href="https://blog.kris-lab.com/feed.xml" />
<link rel="alternate" type="application/json" href="https://blog.kris-lab.com/feed.json" />

        <meta property="og:title" content="WebSocket very basic protocol debugging overview" /><meta property="og:site_name" content="Chris Stasiak" /><meta property="og:description" content="1. Required toolsnetcatbrew install netcatnodejsbrew install nodewebsocket toolsnpm install websocket-upgradeChrome browse2. Starting netcat as 'server' on localhost, port 8080$ nc&hellip;" /><meta property="og:url" content="https://blog.kris-lab.com/websocket-very-basic-protocol-debugging-overview-2.html" /><meta property="og:type" content="article" />
        <style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style>
        <link rel="stylesheet" href="https://blog.kris-lab.com/assets/css/style.css?v=7b5c27b5d3b529a3ef283d7528c6afce">       
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.kris-lab.com/websocket-very-basic-protocol-debugging-overview-2.html"},"headline":"WebSocket very basic protocol debugging overview","datePublished":"2013-09-01T23:08","dateModified":"2020-08-25T13:04","description":"1. Required toolsnetcatbrew install netcatnodejsbrew install nodewebsocket toolsnpm install websocket-upgradeChrome browse2. Starting netcat as \"server\" on localhost, port 8080$ nc&hellip;","author":{"@type":"Person","name":"Chris Stasiak"},"publisher":{"@type":"Organization","name":"Chris Stasiak"}}</script>        
        
        
    </head>
    <body>
        <header class="header" id="js-header">

   <a href="https://blog.kris-lab.com/" class="logo">
         Chris Stasiak
   </a>

      <nav class="navbar js-navbar">
         <button class="navbar__toggle js-toggle" aria-label="Menu">
            <span class="navbar__toggle-box">
               <span class="navbar__toggle-inner">[MISSING TRANSLATION]</span>
            </span>
         </button>
         <ul class="navbar__menu">
                  <li>
                  <a
                     href="https://blog.kris-lab.com"
                        target="_self"
         >
                     Home
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://github.com/kris-lab"
                        target="_blank"
         >
                     GitHub
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://www.linkedin.com/in/krzysztof-chris-stasiak-6261244b/"
                        target="_blank"
         >
                     LinkedIn
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://keybase.io/krislab"
                        target="_blank"
         >
                     Keybase
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://twitter.com/_krislab"
                        target="_blank"
         >
                     Twitter
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://blog.kris-lab.com/contact.html"
                        target="_self"
         >
                     Contact
                  </a>
         
            </li>
         </ul>      </nav>

      <div class="search">
          <div class="search__overlay js-search-overlay">
            <form action="https://blog.kris-lab.com/search.html" class="search__form">
               <input
                  class="search__input js-search-input"
                  type="search"
                  name="q"
                  aria-label="Search text" 
                  placeholder="search..."
                  autofocus="autofocus"/>
               <button class="search__submit">Search</button>
            </form>
         </div>
         <button
            class="search__btn js-search-btn"
            aria-label="Search">
            <svg role="presentation" focusable="false" height="18" width="18">
               <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#search"/>
            </svg>
         </button>
      </div>

</header>
<main>
   <div class="wrapper">
         <article class="post">
            <header class="post__header">
                     <a href="https://blog.kris-lab.com/hacking/" class="post__maintag">
                        hacking
                     </a>
               <h1 class="post__title">
                  WebSocket very basic protocol debugging overview
               </h1>
                  <div class="post__meta">
                        <div class="post__author">By
                              <a href="https://blog.kris-lab.com/authors/chris-stasiak/" class="invert" rel="author" title="Chris Stasiak">Chris Stasiak</a>
                        </div>
                        <time datetime="2013-09-01T23:08">
                              September 1, 2013
                        </time>

                  </div>
            </header>

            <div class="post__inner">
               <div class="post__entry">
                  <h3>1. Required tools</h3>
<ul>
<li>netcat
<pre>brew install netcat</pre>
</li>
<li>nodejs
<pre>brew install node</pre>
</li>
<li>websocket tools
<pre>npm install websocket-upgrade</pre>
</li>
</ul>
<ul>
<li>Chrome browse</li>
</ul>
<h3>2. Starting netcat as "server" on localhost, port 8080</h3>
<pre>$ nc -lcvv localhost 8080</pre>
<h3>3. Creating websocket using chrome developer console</h3>
<pre>var ws = new WebSocket('ws://localhost:8080');
ws.onconnect = function() { console.log('connected'); }
ws.onclose = function() { console.log('closed'); }
ws.onmessage = function(msg) { console.log(msg); }</pre>
<h3>4. Chrome to Netcat HTTP Request</h3>
<pre>GET / HTTP/1.1
Upgrade: websocket
Connection: Upgrade
Host: localhost:8080
Origin: https://www.google.ch
Pragma: no-cache
Cache-Control: no-cache
Sec-WebSocket-Key: <span style="color: #ff0000;">DqZ/oiDTOMxe2cvqs8tdZw==</span>
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits, x-webkit-deflate-frame
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1700.107 Safari/537.36</pre>
<h3>5. Preparing response to chrome</h3>
<pre>$ node
&gt; var wsupgrade = require('websocket-upgrade');
&gt; var accept = wsupgrade.generateAccept('<span style="color: #ff0000;">DqZ/oiDTOMxe2cvqs8tdZw==</span>');
&gt; console.log(accept);
<span style="color: #339966;">dKCEqNbigQP0rJ2YtbTx89wt5vw=</span></pre>
<h3>6. Netcat to chrome HTTP Response</h3>
<pre>HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: <span style="color: #339966;">dKCEqNbigQP0rJ2YtbTx89wt5vw=</span>
&lt;CRLF&gt;
&lt;CRLF&gt;</pre>
<h3>7. Chrome should notify in console</h3>
<pre>connected</pre>
<h3>8. Sending message from chrome to netcat over websocket</h3>
<pre>ws.send('hello');</pre>
<figure class="alignnone size-full wp-image-1083"><a href="https://blog.kris-lab.com/media/posts/845/chrome-netcat.png"><img loading="lazy"  alt="chrome-netcat" src="https://blog.kris-lab.com/media/posts/845/chrome-netcat.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://blog.kris-lab.com/media/posts/845/responsive/chrome-netcat-xs.png 300w ,https://blog.kris-lab.com/media/posts/845/responsive/chrome-netcat-sm.png 480w ,https://blog.kris-lab.com/media/posts/845/responsive/chrome-netcat-md.png 768w"  width="815" height="889" /></figure></a></p>
<h3></h3>
<h3>9. Useful resources</h3>
<ul>
<li><a href="https://tools.ietf.org/html/rfc6455">https://tools.ietf.org/html/rfc6455</a></li>
<li><a href="http://www.w3.org/TR/2009/WD-websockets-20091222/">http://www.w3.org/TR/2009/WD-websockets-20091222/</a></li>
</ul>

               </div>
                  <footer>

                           <p class="post__last-updated">
                              This article was updated on
                                 August 25, 2020
                           </p>

                        <div class="post__tags-share">
                                 <ul class="post__tag">
                                       <li>
                                          <a href="https://blog.kris-lab.com/hacking/">hacking</a>
                                       </li>
                                       <li>
                                          <a href="https://blog.kris-lab.com/http-2/">http</a>
                                       </li>
                                       <li>
                                          <a href="https://blog.kris-lab.com/node-js-2/">node.js</a>
                                       </li>
                                       <li>
                                          <a href="https://blog.kris-lab.com/websockets-2/">websockets</a>
                                       </li>
                                       <li>
                                          <a href="https://blog.kris-lab.com/workaround/">workaround</a>
                                       </li>
                                 </ul>

                              <aside class="post__share">
                                 
                                 
                                    <a href="https://twitter.com/share?url=https%3A%2F%2Fblog.kris-lab.com%2Fwebsocket-very-basic-protocol-debugging-overview-2.html&amp;via=%40_krislab&amp;text=WebSocket%20very%20basic%20protocol%20debugging%20overview
                                 "
                                       class="js-share twitter"
                                       aria-label="Share with Twitter"
                                       rel="nofollow noopener noreferrer">
                                       <svg>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#twitter"/>
                                       </svg>
                                    </a>
                                 
                                 
                                 
                                    <a
                                       href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.kris-lab.com%2Fwebsocket-very-basic-protocol-debugging-overview-2.html&amp;title=WebSocket%20very%20basic%20protocol%20debugging%20overview"
                                       class="js-share linkedin"
                                       aria-label="Share with LinkedIn"
                                       rel="nofollow noopener noreferrer">
                                       <svg>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#linkedin"/>
                                       </svg>
                                    </a>
                                 
                                    <a
                                       href="https://buffer.com/add?text=WebSocket%20very%20basic%20protocol%20debugging%20overview&amp;url=https%3A%2F%2Fblog.kris-lab.com%2Fwebsocket-very-basic-protocol-debugging-overview-2.html"
                                       class="js-share buffer"
                                       aria-label="Share with Buffer"
                                       rel="nofollow noopener noreferrer">
                                       <svg>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#buffer"/>
                                       </svg>
                                    </a>
                                 
                              </aside>
                        </div>
                           <div class="post__bio author">
                              <div>
                                    <h3 class="h6 author__name">
                                       <a href="https://blog.kris-lab.com/authors/chris-stasiak/" class="invert" title="Chris Stasiak">Chris Stasiak</a>
                                    </h3>
                              </div>
                           </div>

                           <nav class="post__nav">
                                 <div class="post__nav__prev">
                                    <a class="post__nav__link" href="https://blog.kris-lab.com/nodemon-npm-install-nodemon-g.html" rel="prev">
                                       Previous Post
                                       <h3 class="h6">Nodemon - npm install nodemon -g</h3>
                                    </a>
                                 </div>
                                 <div class="post__nav__next">
                                    <a class="post__nav__link" href="https://blog.kris-lab.com/pushing-your-meteor-project-to-heroku-2.html" rel="prev">
                                       Next Post
                                       <h3 class="h6">Pushing Your Meteor Project to Heroku</h3>
                                    </a>
                                 </div>
                           </nav>

                  </footer>
            </div>
         </article>



   </div>

         <div class="post__related">
            <div class="wrapper">
               <h3 class="h5">
                  Related posts
               </h3>
               <div class="l-grid l-grid--4">
                     <article class="c-card">
                        <div class="c-card__wrapper">
                           <header class="c-card__header">
                                    <div class="c-card__tag">
                                       <a href="https://blog.kris-lab.com/camera/">Camera</a>
                                    </div>
                              <h2 class="c-card__title">
                                 <a href="https://blog.kris-lab.com/art-3dvr-challenge-week-1-abstract-overview.html" class="invert">
                                    Art 3D/VR challenge - week 1 - abstract overview
                                 </a>
                              </h2>
                           </header>
                              <footer class="c-card__meta">
                                    <time datetime="2016-02-29T19:59">
                                          February 29, 2016
                                    </time>
                                    <div class="c-card__comments">
                                       <svg aria-hidden="true">
                                          <title>Comments</title>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/>
                                       </svg>
                                       <a
                                          href="https://blog.kris-lab.com/art-3dvr-challenge-week-1-abstract-overview.html#post-comments"
                                          data-disqus-identifier="889"
                                          class="invert"
                                          rel="nofollow">
                                          0
                                       </a>
                                    </div>
                              </footer>
                        </div>
                     </article>
                     <article class="c-card">
                        <div class="c-card__wrapper">
                           <header class="c-card__header">
                                    <div class="c-card__tag">
                                       <a href="https://blog.kris-lab.com/api/">API</a>
                                    </div>
                              <h2 class="c-card__title">
                                 <a href="https://blog.kris-lab.com/mongo-mms-api-agent-for-ruby-with-basic-cli-client-14.html" class="invert">
                                    Mongo MMS API agent for ruby with basic cli client
                                 </a>
                              </h2>
                           </header>
                              <footer class="c-card__meta">
                                    <time datetime="2014-08-28T07:06">
                                          August 28, 2014
                                    </time>
                                    <div class="c-card__comments">
                                       <svg aria-hidden="true">
                                          <title>Comments</title>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/>
                                       </svg>
                                       <a
                                          href="https://blog.kris-lab.com/mongo-mms-api-agent-for-ruby-with-basic-cli-client-14.html#post-comments"
                                          data-disqus-identifier="863"
                                          class="invert"
                                          rel="nofollow">
                                          0
                                       </a>
                                    </div>
                              </footer>
                        </div>
                     </article>
                     <article class="c-card">
                        <div class="c-card__wrapper">
                           <header class="c-card__header">
                                    <div class="c-card__tag">
                                       <a href="https://blog.kris-lab.com/debugging/">debugging</a>
                                    </div>
                              <h2 class="c-card__title">
                                 <a href="https://blog.kris-lab.com/debugging-and-testing-over-phpstorm-ssh-vagrant-tunnel-2.html" class="invert">
                                    Debugging and testing over PHPStorm - SSH - Vagrant tunnel
                                 </a>
                              </h2>
                           </header>
                              <footer class="c-card__meta">
                                    <time datetime="2014-02-23T11:55">
                                          February 23, 2014
                                    </time>
                                    <div class="c-card__comments">
                                       <svg aria-hidden="true">
                                          <title>Comments</title>
                                          <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#comments"/>
                                       </svg>
                                       <a
                                          href="https://blog.kris-lab.com/debugging-and-testing-over-phpstorm-ssh-vagrant-tunnel-2.html#post-comments"
                                          data-disqus-identifier="857"
                                          class="invert"
                                          rel="nofollow">
                                          0
                                       </a>
                                    </div>
                              </footer>
                        </div>
                     </article>
               </div>
            </div>
         </div>
</main>
<footer class="footer">
      <div class="footer__social">
            <a href="https://twitter.com/_krislab" aria-label="Twitter" class="twitter">
               <svg>
                  <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#twitter"/>
               </svg>
            </a>
            <a href="https://www.instagram.com/_krislab" aria-label="Instagram" class="instagram">
               <svg>
                  <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#instagram"/>
               </svg>
            </a>
            <a href="https://www.linkedin.com/in/krzysztof-chris-stasiak-6261244b/" aria-label="LinkedIn" class="linkedin">
               <svg>
                  <use xlink:href="https://blog.kris-lab.com/assets/svg/svg-map.svg#linkedin"/>
               </svg>
            </a>
      </div>
      <div class="footer__copyright">
         &copy; 2020 Powered by Publii Static CMS
      </div>
</footer>
<script>
   window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };
</script>
<script defer src="https://blog.kris-lab.com/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script>
   <script>        
      var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }
   </script>


</body>
</html>
